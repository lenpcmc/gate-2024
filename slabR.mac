#Things to measure: scintillator height/radius/material, radioactive Source material, type of radiation (in radSource)

##################
#    Preamble    #
#                #
##################
/control/execute visu.mac
/control/execute verbose.mac

###################
#   Configuring   #
#                 #
###################

# Create world
/gate/geometry/setMaterialDatabase GateMaterials.db 
/gate/world/geometry/setXLength 0.2 m
/gate/world/geometry/setYLength 0.2 m
/gate/world/geometry/setZLength 0.2 m
/gate/world/setMaterial Air

# Create Scintillating Slab
/gate/world/daughters/name scintillator
/gate/world/daughters/insert cylinder
/gate/scintillator/setMaterial ScintX #Scintillating material
/gate/scintillator/geometry/setRmin 0 mm
/gate/scintillator/geometry/setRmax 20 mm # Measure this every time please!
/gate/scintillator/geometry/setHeight 4 mm # Measure this every time please!
/gate/scintillator/geometry/setPhiStart 0 deg
/gate/scintillator/geometry/setDeltaPhi 360 deg
/gate/scintillator/vis/setColor yellow

# Create strontium (or other) source
/gate/world/daughters/name radioactiveSource
/gate/world/daughters/insert cylinder
/gate/radioactiveSource/setMaterial Air #Can't have strontium cus it blows up :(
/gate/radioactiveSource/geometry/setRmin 0 mm
/gate/radioactiveSource/geometry/setRmax 1 mm
/gate/radioactiveSource/geometry/setHeight 1 mm
/gate/radioactiveSource/geometry/setPhiStart 0 deg
/gate/radioactiveSource/geometry/setDeltaPhi 360 deg
/gate/radioactiveSource/vis/setColor green
/gate/radioactiveSource/placement/setTranslation 0 0 4 cm

###############
# Information #
#             #
###############

/gate/physics/addPhysicsList emstandard #Use higher _opt(number) suffix for more precision
##################
#  Moving Parts  #
#                #
##################


# Actors

# Energy Deposition readout
/gate/actor/addActor DoseActor edepReadout
#/gate/actor/edepReadout/save slabROut.txt #Comment this one out if you don't want to record
/gate/actor/edepReadout/stepHitType random
/gate/actor/edepReadout/attachTo scintillator
/gate/actor/edepReadout/setSize 0.1 0.1 0.1 m
/gate/actor/edepReadout/setResolution 1 1 10
/gate/actor/edepReadout/enableDose false
/gate/actor/edepReadout/enableEdep true

/gate/run/initialize



#Radiation source
/gate/source/addSource radSource
/gate/source/radSource/gps/particle e- # Measure
/gate/source/radSource/gps/energytype Mono # This works with Mono, I want strontium as the energytype though! (If you fix that, delete following line)
/gate/source/radSource/gps/monoenergy 511. keV
/gate/source/radSource/gps/angtype iso
/gate/source/radSource/gps/mintheta 90. deg
/gate/source/radSource/gps/maxtheta 90. deg
/gate/source/radSource/gps/minphi 90. deg
/gate/source/radSource/gps/maxphi 90. deg
/gate/source/radSource/gps/direction  0 0 -1
/gate/source/radSource/attachTo radioactiveSource

/gate/application/setTotalNumberOfPrimaries 1000
/gate/application/start #Start er up!